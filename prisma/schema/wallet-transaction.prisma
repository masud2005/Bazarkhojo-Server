model WalletTransaction {
  id          Int              @id @default(autoincrement())
  walletId    Int
  type        TransactionType
  amount      Decimal          @db.Decimal(12, 2)
  balanceBefore Decimal         @db.Decimal(12, 2)
  balanceAfter Decimal          @db.Decimal(12, 2)
  reference   String?
  idempotencyKey String         @unique
  description String?
  orderId     Int?
  referenceId String?
  createdAt   DateTime         @default(now())

  wallet      Wallet           @relation(fields: [walletId], references: [id])
  order       Order?           @relation(fields: [orderId], references: [id])
}

enum TransactionType {
  CREDIT
  DEBIT
  REFUND
  PAYOUT
  REWARD
}